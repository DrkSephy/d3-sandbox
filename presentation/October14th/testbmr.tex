\documentclass[red]{beamer}
% Class options include: notes, notesonly, handout, trans,
%                        hidesubsections, shadesubsections,
%                        inrow, blue, red, grey, brown


% Theme for beamer presentation.
\usepackage{beamerthemetree} 
% Other themes include: beamerthemebars, beamerthemelined, 
%                       beamerthemetree, beamerthemetreebars  
\usepackage{listings}

\title{D3: Diving into the library}    
\author{David Leonard}                 
\institute{City College of New York}      
\date{\today}                   

\begin{document}

\lstdefinelanguage{JavaScript}{
  keywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, if, in, while, do, else, case, break, this},
  keywordstyle=\color{blue}\bfseries,
  ndkeywords={class, export, boolean, throw, implements, import, this},
  ndkeywordstyle=\color{darkgray}\bfseries,
  identifierstyle=\color{black},
  sensitive=false,
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{purple}\ttfamily,
  stringstyle=\color{red}\ttfamily,
  morestring=[b]',
  morestring=[b]"
}

\lstset{
   language=JavaScript,
   extendedchars=true,
   basicstyle=\scriptsize\ttfamily,
   showstringspaces=false,
   showspaces=false,
   tabsize=2,
   breaklines=true,
   showtabs=false,
   captionpos=b
}

% Object code listing
\defverbatim[colored]\lstl{
	\begin{lstlisting}
	   var dataset = [ 100, 200, 300, 400, 500 ]; 
	\end{lstlisting}
}

\defverbatim[colored]\lstll{
    \begin{lstlisting}
      var scale = d3.scale.linear()
                    .domain([100, 500])
                    .range([10, 350]);

      scale(100); // Returns 10
      scale(300); // Returns 180
      scale(500); // Returns 350
    \end{lstlisting}
}

\defverbatim[colored]\lstlll{
    \begin{lstlisting}
    d3.selectAll("p").style("color", "white");
    \end{lstlisting}
}

\defverbatim[colored]\lstllll{
    \begin{lstlisting}
    svg.append("circle")
        .attr("cx", d.x)
        .attr("cy", d.y)
        .attr("r", 2.5);
    \end{lstlisting}
}

\defverbatim[colored]\lstlllll{
    \begin{lstlisting}
    var svgContainer = d3.select("body").append("svg")
        .attr("width", 200)
        .attr("height", 200);

    svg.selectAll("circle")
        .data(data)
    .enter().append("circle")
        .attr("cx", function(d) { return d.x; })
        .attr("cy", function(d) { return d.y; })
        .attr("r", 2.5);
    \end{lstlisting}
}

\defverbatim[colored]\lstllllll{
    \begin{lstlisting}
    d3.selectAll('.chart')
        .selectAll('div')
            .data(data)
        .enter().append('div')
            .transition()
                .style('width', function(d) { return x(d) + 'px'; })
            .transition()
            //.style("color", "red")
    \end{lstlisting}
}

\defverbatim[colored]\lstlllllll{
    \begin{lstlisting}
    d3.selectAll('.chart')
        .selectAll('div')
            .data(data)
        .enter().append('div')
             .on('mouseover', function(d){
                console.log(d);
            })
    \end{lstlisting}
}

% Creates title page of slide show using above information
\begin{frame}
  \titlepage
\end{frame}

\section[Outline]{}

\section{Introduction to D3}

\begin{frame}
    \frametitle{Scales}
    "Scales are functions that map from an input domain to an output range"

    \hspace{0.9cm} - Mike Bostock 
\end{frame}


\subsection{Power of D3}

\begin{frame}
  \frametitle{Items and Pixels}   % Insert frame title between curly braces
  \lstl

  \begin{itemize}
  \item<1-> If 500 items are sold, corresponding bar would be 500px
  \item<2-> What if this value changed to 600? 800?
  \item<3-> Requires bigger display to view bars
  \item<4-> How do we scale these values?
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Linear Scales}
  Linear scales is nothing more than normalization, in which we map a numeric value to a 
  new value between 0 and 1, based on the possible minimum and maximum values. For example, 
  365 days in a year, day 310 maps to ~0.85. 
  \newline
  
  With linear scales, the input value is normalized according to the domain, and then the 
  normalized value is scaled to the output range. 
\end{frame}

\begin{frame}
  \frametitle{Constructing a Scale}
  \lstll
\end{frame}


\end{document}
